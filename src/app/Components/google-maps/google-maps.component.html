<!-- <agm-map
  [latitude]="mapLat"
  [longitude]="mapLng"
  [zoom]="zoomValue"
  (zoomChange)="onZoomChange($event)"
>
  <agm-marker
    *ngFor="let node of nodes; let i = index"
    [label]="node.label"
    [latitude]="node.attributes.latitude"
    [longitude]="node.attributes.longitude"
    [iconUrl]="node.image"
    (mouseOver)="onMouseOver(infoWindow, $event)"
    (mouseOut)="onMouseOut(infoWindow, $event)"
    (markerClick)="onMarkerClick(node)"
  >
    <agm-info-window [disableAutoPan]="false" #infoWindow>
      <div style="width: 150px;height: 50px">
        <h6>ID: {{ node.id }}</h6>
        <h6>Name: {{ node.name }}</h6>
      </div>
    </agm-info-window>
  </agm-marker>

  <agm-polyline
    *ngFor="let link of links"
    [strokeColor]="link.color"
    [strokeWeight]="lineWidth"
  >
    <agm-polyline-point
      [latitude]="link.source.lat"
      [longitude]="link.source.lng"
    >
    </agm-polyline-point>
    <agm-polyline-point
      [latitude]="link.target.lat"
      [longitude]="link.target.lng"
    >
    </agm-polyline-point>
  </agm-polyline>
</agm-map> -->

<agm-map
  [latitude]="mapLat"
  [longitude]="mapLng"
  [zoom]="zoomValue"
  (zoomChange)="onZoomChange($event)"
>
  <agm-marker
    *ngFor="let node of nodes; let i = index"
    [label]="node.label"
    [latitude]="node.attributes.latitude"
    [longitude]="node.attributes.longitude"
    [iconUrl]="node.image"
    (mouseOver)="onMouseOver(infoWindow, $event)"
    (mouseOut)="onMouseOut(infoWindow, $event)"
    (markerClick)="onMarkerClick(node)"
  >
    <agm-info-window [disableAutoPan]="false" #infoWindow>
      <div style="width: 200px">
        <h6>ID: {{ node.id }}</h6>
        <h6>Name: {{ node.name }}</h6>
      </div>
    </agm-info-window>
  </agm-marker>

  <agm-polyline
    *ngFor="let link of links"
    [strokeColor]="link.color"
    [strokeWeight]="lineWidth"
  >
    <agm-polyline-point
      [latitude]="link.source.lat"
      [longitude]="link.source.lng"
    >
    </agm-polyline-point>
    <agm-polyline-point
      [latitude]="link.target.lat"
      [longitude]="link.target.lng"
    >
    </agm-polyline-point>
  </agm-polyline>
</agm-map>
